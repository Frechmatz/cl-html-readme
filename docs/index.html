<html><head><link href="cl-html-readme.css" rel="stylesheet" type="text/css"/></head><body>
<header>
<h1>cl-html-readme</h1>This library provides a means to generate documentation for Common Lisp projects that are using HTML
as markup language for their docstrings.
<p>The goal of this library is to make it easy to generate a table of contents or
  to structure the documentation with semantic elements. It shall not impose any styling. To accomplish this, the library provides a DSL as well as a couple of helper functions.</p>
<p>The library does not cover to retrieve any metadata, like for example object documentation strings. An excellent library for such purposes is <a href="https://github.com/eudoxia0/docparser">docparser</a></p>
<p>The general concept is to declare an HTML skeleton using the DSL of cl-html-readme and
  to provide the actual documentation and any arbitrary markup as plain HTML strings embedded
  into it.</p>
<p>The key features of cl-html-readme are
    <ul>
	<li>Generate HTML heading and semantic elements.</li>
	<li>Generate a Table of Contents. Provide full control of what should be part of it.</li>
	<li>Easily embed source code files as well as HTML files.</li>
    </ul>
</p><p>The source code is available <a href="https://github.com/Frechmatz/cl-html-readme">here</a>.</p></header>
<nav>
<h1>Table of contents</h1>
<ul>
<li><a href="#Change-Log">Change-Log</a></li>
<li><a href="#Installation">Installation</a></li>
<li><a href="#DSL">DSL</a><ul>
<li><a href="#Example: Table of contents">Example: Table of contents</a></li>
<li><a href="#Example: Semantic elements">Example: Semantic elements</a></li></ul></li>
<li><a href="#API">API</a></li>
<li><a href="#Run tests">Run tests</a></li>
<li><a href="#Generate documentation">Generate documentation</a></li></ul></nav>
<section>
<h1 id="Change-Log">Change-Log</h1>
<h2>Version 1.0.0</h2><p>The first release of cl-html-readme.</p>
<h2>Version 1.0.1</h2><p><b>This version is the current quicklisp release.</b></p>
<h3>Changes</h3><ul><li>HTML serialization inserts linebreaks for better readability and diff friendliness.</li><li>Removed a couple of too fragile tests.</li></ul>
<h2>Version 2.0.0</h2>
<h3>Breaking changes</h3><ul><li>Support of HTML style and class attributes has been removed.</li></ul>
<h3>Changes</h3><ul><li>A more efficient implementation of the TOC generation algorithm.</li><li>A major rework of the test suite which was buggy and difficult to understand.</li></ul>
<h1 id="Installation">Installation</h1><p><pre><code>(ql:quickload "cl-html-readme")</code></pre></p>
<h1 id="DSL">DSL</h1>The DSL (Domain Specific Language) of cl-html-readme is used to declare an
HTML skeleton consisting of semantic elements, heading elements and a table of contents. Beside these predefined elements the actual "content" consists of plain strings
that can appear (almost) everywhere. They are not processed in any way during the HTML generation but written "as is".
<h2 id="Example: Table of contents">Example: Table of contents</h2><p><pre><code>(defpackage :cl-html-readme-make-readme-dsl-example-toc
  (:use :cl)
  (:documentation &quot;Example: Table of contents&quot;))
(in-package :cl-html-readme-make-readme-dsl-example-toc)

(defun example ()
  (let ((documentation
    `((heading (:name &quot;Example&quot;))
      (heading (:name &quot;Table of contents&quot;)
         (toc))
      (heading (:name &quot;Chapter 1&quot; :toc t)) &quot;Lorem ipsum&quot;
      (heading (:name &quot;Chapter 2&quot; :toc t) &quot;&lt;b&gt;Lorem ipsum&lt;/b&gt;&quot;
         (heading (:name &quot;Chapter 2.1&quot;) &quot;Lorem ipsum&quot;)))))
    (cl-html-readme:doc-to-html nil documentation)))

;;(example)</code></pre></p>
<h3>Generated HTML</h3><p><pre><code>&lt;h1&gt;Example&lt;/h1&gt;
&lt;h1&gt;Table of contents&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#Chapter 1&quot;&gt;Chapter 1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#Chapter 2&quot;&gt;Chapter 2&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;
&lt;h1 id=&quot;Chapter 1&quot;&gt;Chapter 1&lt;/h1&gt;Lorem ipsum
&lt;h1 id=&quot;Chapter 2&quot;&gt;Chapter 2&lt;/h1&gt;&lt;b&gt;Lorem ipsum&lt;/b&gt;
&lt;h2&gt;Chapter 2.1&lt;/h2&gt;Lorem ipsum</code></pre></p>
<h2 id="Example: Semantic elements">Example: Semantic elements</h2><p><pre><code>(defpackage :cl-html-readme-make-readme-dsl-example-semantic
  (:use :cl)
  (:documentation &quot;Example: Semantic elements&quot;))
(in-package :cl-html-readme-make-readme-dsl-example-semantic)

(defun example ()
  (let ((documentation
    `((semantic (:name &quot;header&quot;)
          (heading (:name &quot;Example&quot;)))
      (semantic (:name &quot;nav&quot;)
          (heading (:name &quot;Table of contents&quot;)
             (toc)))
      (semantic (:name &quot;section&quot;)
          (heading (:name &quot;Chapter 1&quot; :toc t))
          &quot;Lorem ipsum&quot;
          (heading (:name &quot;Chapter 2&quot; :toc t))
          &quot;&lt;b&gt;Lorem ipsum&lt;/b&gt;&quot;)
      (semantic (:name &quot;footer&quot;) &quot;Lorem ipsum&quot;))))
    (cl-html-readme:doc-to-html nil documentation)))

;;(example)</code></pre></p>
<h3>Generated HTML</h3><p><pre><code>&lt;header&gt;
&lt;h1&gt;Example&lt;/h1&gt;&lt;/header&gt;
&lt;nav&gt;
&lt;h1&gt;Table of contents&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#Chapter 1&quot;&gt;Chapter 1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#Chapter 2&quot;&gt;Chapter 2&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/nav&gt;
&lt;section&gt;
&lt;h1 id=&quot;Chapter 1&quot;&gt;Chapter 1&lt;/h1&gt;Lorem ipsum
&lt;h1 id=&quot;Chapter 2&quot;&gt;Chapter 2&lt;/h1&gt;&lt;b&gt;Lorem ipsum&lt;/b&gt;&lt;/section&gt;
&lt;footer&gt;Lorem ipsum&lt;/footer&gt;</code></pre></p>
<h1 id="API">API</h1><b>cl-html-readme:*home-directory*</b>&nbsp;<p>Home directory of the project for which documentation is to be generated.</p><b>cl-html-readme:*tab-width*</b>&nbsp;<p>Width of a tab. Used, when tabs are to be replaced with space characters.</p><b>cl-html-readme:doc-to-html</b>&nbsp;(output-stream documentation)<p>Renders a documentation object to HTML. The function has the following parameters:
   <ul>
       <li>output-stream A stream into which the resulting HTML is written.</li>
       <li>documentation A list following the syntax of the DSL.</li>
   </ul></p><b>cl-html-readme:make-path</b>&nbsp;(path)<p>Creates an absolute path. The function has the following parameters:
   <ul>
      <li>path A path relative to *home-directory*, e.g. examples/example-1.lisp. A path can be represented as String or as Pathname.</li>
   </ul></p><b>cl-html-readme:read-file</b>&nbsp;(path &key (replace-tabs nil) (escape nil))<p>Reads a text file and returns it as a string. The function has the following parameters:
   <ul>
      <li>path Path of the file relative to *home-directory*.</li>
      <li>:replace-tabs If t then tabs are replaced with spaces according to the *tab-width* variable.</li>
      <li>:escape If t then special characters are replaced with HTML character entities.</li>
   </ul></p><b>cl-html-readme:read-stream</b>&nbsp;(stream &key (replace-tabs nil) (escape nil))<p>Reads a text stream and returns it as a string. The function has the following parameters:
   <ul>
      <li>stream An input stream.</li>
      <li>:replace-tabs If t then tabs are replaced with spaces according to the *tab-width* variable.</li>
      <li>:escape If t then special characters are replaced with HTML character entities.</li>
   </ul></p><b>cl-html-readme:read-string</b>&nbsp;(string &key (replace-tabs nil) (escape nil))<p>Reads a multiline string and returns it as a string. The function has the following parameters:
   <ul>
      <li>string A string.</li>
      <li>:replace-tabs If t then tabs are replaced with spaces according to the *tab-width* variable.</li>
      <li>:escape If t then special characters are replaced with HTML character entities.</li>
   </ul></p>
<h1 id="Run tests">Run tests</h1><pre><code>(asdf:test-system :cl-html-readme)</code></pre>
<h1 id="Generate documentation">Generate documentation</h1><p><pre><code>(asdf:load-system :cl-html-readme/doc)
(cl-html-readme-make-doc::make-doc)</code></pre></p></section>
<footer><hr/><p><small>Generated 2023-11-03  21:12:29</small></p></footer></body></html>